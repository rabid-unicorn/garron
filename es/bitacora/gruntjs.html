<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- SEO includes -->
        

<link href="/es/atom.xml" rel="alternate" title="Guillermo Garron" type="application/atom+xml" />

        <link rel="canonical" href="http://www.garron.me/es/bitacora/gruntjs.html" />
        
<meta name="robots" content="noodp, noydir" />


<meta name="description" content="Conociendo y usando Grunt.js para optimizar las imágenes de este sitio generado con Jekyll" />

        <!-- End SEO includes -->    
        <title>Grunt</title>
        <!-- CSS -->
        <link href='http://fonts.googleapis.com/css?family=Josefin+Slab|Vollkorn|Old+Standard+TT|Source+Sans+Pro:400,300' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/webfonts/ss-social-circle.css" type="text/css">
        <!-- Bootstrap -->
        <link href="/bootstrap/css/bootstrap.journal.min.css" rel="stylesheet">
        <link href="/bootstrap/css/magnific-popup.css" rel="stylesheet">
        <!-- Custom Css -->
        <!-- <style>body {background-color: #FFFFFF;}

body,
input,
small,
button,
select,
textarea,
.navbar-search .search-query {
  font-family: "Source Sans Pro", "Vollkorn", Georgia, "Times New Roman", Times, serif; font-weight: 300; font-size: 18px; line-height: 26px; color: #404040;
}


h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: "Josefin Slab", Georgia, "Times New Roman", Times, serif; font-weight: 400; color: #101010;
}

.gallery-image-wrapper {
  height: 300px;
  width: 300px;
  display: inline-block;
  margin: 1em;
  position: relative;
  text-align: left;
}
.gallery-image {
  margin: auto;
  position: absolute;
  top: 0px;
  bottom: 0px;
  max-height: 100%;
  max-width: 100%;
}

#text-center {
text-align: center
}
</style> -->
        <!-- End custom css -->
        <!-- End CSS -->
        <!-- Twitter cards -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@ggarron">
        <meta name="twitter:creator" content="@ggarron">
        <meta name="twitter:title" content="Grunt">
        <meta name="twitter:description" content="Conociendo y usando Grunt.js para optimizar las imágenes de este sitio generado con Jekyll">
        <!-- End Twitter Cards -->
        <!-- FB property -->
        <meta property="fb:admins" content="613797474" />
        <!-- End FB Property -->
        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>
    <body>
            <!-- Fixed navbar -->
    <nav class="navbar navbar-default navbar-static-top visible-xs visible-sm">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/es/"></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="/es/">Inicio</a></li>
            <li><a href="/es/gnu-linux/">Linux</a></li>
            <li><a href="/es/mac-os/">Mac</a></li>
            <li><a href="/es/cortos/">Tips</a></li>
            <li><a href="/es/articulos/">Artículos</a></li>
            <li><a href="/es/archivos.html">Archivos</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Personales <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="/es/bitacora/">Bitacora</a></li>
                <li><a href="/es/fotos/">Fotos</a></li>
                <li><a href="/es/recetas/">Comida</a></li>
              </ul>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
<div class="container">
    <!-- Nav Bar -->
    <H1><a href="/es/">Guillermo Garron</a></h1>
<p>Suscribete: <a href="/es/atom.xml" class="ss-icon ss-social-circle">rss</a> | <a href="http://feedburner.google.com/fb/a/mailverify?uri=BitacoraGuillermo&amp;loc=en_US" class="ss-icon ss-social-circle">email</a></p>
<ol class="breadcrumb">

	<li><a href="/index.html">Geeking</a>
	<li class="divider">&gt;</li>

	<li><a href="/es/index.html">Tecnología</a>
	<li class="divider">&gt;</li>

	<li><a href="/es/bitacora/index.html">Bitacora</a>
	<li class="divider">&gt;</li>

	<li class="active">Grunt</li>
</ol>


    <!-- Nav Bar -->
    <div id="content" class="row">
        <div class="col-md-2 visible-lg visible-md">
            <h4>Categorias</h4>
<div class="well sidebar-nav">
  <ul class="nav nav-list">
    <li><h4>Tecnicas</h4></li>
    <li><a href="/es/gnu-linux/">Linux</a></li>
    <li><a href="/es/mac-os/">Mac</a></li>
    <li><a href="/es/cortos/">Tips</a></li>
    <li><a href="/es/articulos/">Artículos</a></li>
    <hr>
    <li><h4>Personales</h4></li>
    <li><a href="/es/bitacora/">Reflexiones</a></li>
    <li><a href="/es/fotos/">Fotos</a></li>
    <li><a href="/es/recetas/">Cocinando</a></li>
    <hr>
    <li><a href="/es/archivos.html">Archivos</a></li>
    <hr>
    <li><p><a href="/es/atom.xml" class="ss-icon ss-social-circle">rss</a> | <a href="http://feedburner.google.com/fb/a/mailverify?uri=BitacoraGuillermo&amp;loc=en_US" class="ss-icon ss-social-circle">email</a></p></li>
  </ul>
</div>

        </div>
        <div class="col-md-7">
            <h3><a href="/es/bitacora/gruntjs.html">Grunt</a></h3>
<h6>Escrito por: <a href="/es/acerca-de.html">Guillermo Garron</a> .</h6>
<h6>Fecha: 2015-03-15 22:40:35 -0400</h6>
<hr>
<h2 id="introduccin">Introducción</h2>

<p>Hace un par de días que gracias a estar leyendo en el Internet sobre formas de optimizar los sitios web, y sus tiempos de respuesta y carga he descubierto <a href="http://gruntjs.com/">Grunt</a>, pero bueno, ¿Qué es <strong>Grunt</strong>?.</p>

<p><strong>Grunt</strong> es un controlador de tareas para JavaScript, es decir es un software que te permite ejecutar con un solo comando varias tareas a la vez que normalmente son repetitivas, algo así como un <em>Shell Script</em> para JavaScript.</p>

<p>Es bastante útil para ejecutar tareas que ejecutas de manera repetitiva, y que además puede que sean muchas tareas ejecutadas una tras otra todos los días, el poder automatizar estas tareas es muy importante al momento de buscar eficiencia.</p>

<h2 id="instalando-grunt">Instalando Grunt</h2>

<p>Vamos con algún ejemplo práctico para tener más clara su utilidad, primero vamos a instalar <strong>Grunt</strong> en nuestro sistema, lo primero es instalar <strong>nodejs</strong> y <strong>npm</strong>.</p>

<p><strong>Instala Nodejs en Mac OS X</strong></p>

<pre><code>brew install nodejs
</code></pre>

<p><strong>Instala Nodejs en Ubuntu</strong></p>

<pre><code>sudo apt-get install nodejs
</code></pre>

<p>Ahora que lo tenemos instalado vamos con el ejemplo.</p>

<p><strong>Instala Grunt</strong></p>

<p>Para instalar <strong>Grunt</strong> ahora que tenemos instalado Nodejs, solo ejecuta este comando.</p>

<pre><code>npm install -g grunt-cli
</code></pre>

<p>Esto en realidad instala el cli de Grunt, lo que te permitirá correr los scripts</p>

<h2 id="grunt-para-minificar-imgenes-de-tu-sitio-web">Grunt para minificar imágenes de tu sitio Web</h2>

<p>El ejemplo que vamos a ver para entender como funciona, es útil para minificar las imágenes de un sitio Web, este sitio para ser exactos, como algunos de los lectores deben saber, este sitio es generado por Jekyll, es un puñado de archivos estáticos en un servidor Web que cambia todo el tiempo, en el momento de escribir esto esta alojado en Amazon S3 y Cloudfront, tiene unas cuantas imágenes que me gustaría minificar para ahorrar espacio, ancho de banda y hacer que les llege a los usarios de manera más eficiente y rápida, así que manos a la obra.</p>

<p><strong>Grunt</strong> viene con una serie de aditivos (plugins) que permiten hacer todo tipo de cosas, vamos a usar ahora un plugin que nos va a ayudar a minificar las imágenes de este sitio.</p>

<p>Lo primero es crear un directorio para nuestro proyecto, y luego en él, crear un archivo <code>package.json</code>, puedes leer más de como hacerlo en el sitio oficial de <a href="http://gruntjs.com/getting-started">Grunt</a>. Mi archivo se ve así:</p>

<pre><code>{
  "name": "www.garron.me",
  "version": "0.1.0",
  "devDependencies": {
    "grunt": "^0.4.5",
    "grunt-contrib-imagemin": "^0.9.3",
    "grunt-newer": "^1.1.0",
    "imagemin-pngquant": "^4.0.0",
    "coffee-script": "~1.6.3"
  },
  "dependencies": {
    "imagemin-gifsicle": "^4.1.0",
    "imagemin-jpegtran": "^4.1.0",
    "imagemin-mozjpeg": "^4.0.0",
    "imagemin-optipng": "^4.2.0"
  }
}
</code></pre>

<p>Luego con ese archivo, ejecutamos el siguiente comando:</p>

<pre><code>npm install
</code></pre>

<p>Lo que hará es bajar de Internet e instalar los paquetes indicados en el archivo <code>package.json</code>, vamos luego a crear el <em>script</em> que va a ejecutar algunos de esos programas, para minificar las imágenes, el mío se ve así:</p>

<pre><code>vim Gruntfile.js
</code></pre>

<p>Y colocamos este contenido en él.</p>

<pre><code>module.exports = function(grunt) {

var mozjpeg = require('imagemin-mozjpeg');
var optipng = require('imagemin-optipng'); 

grunt.initConfig({
  imagemin: {
    png: {
      options: {
        // optimizationLevel: 7
    use: [optipng({optimizationLevel: 3})]
      },
      files: [
        {
          expand: true,
          cwd: '../www.garron.me/_site/',
          src: ['**/*.png'],
          dest: '/tmp/jekyll/',
          ext: '.png'
        }
      ]
    },
    jpg: {
      options: {
        progressive: true,
    optimizationLevel: 4,
    use: [mozjpeg()]
      },
      files: [
        {
          expand: true,
          cwd: '../www.garron.me/_site/',
          src: ['**/*.jpg'],
          dest: '/tmp/jekyll/',
          ext: '.jpg'
        }
      ]
    }
  }
});
grunt.loadNpmTasks('grunt-contrib-imagemin');
grunt.loadNpmTasks('grunt-newer');
grunt.registerTask('default', ['newer:imagemin']);
};
</code></pre>

<p>Lo que hace este archivo es definir las funciones, y estas optimizan los archivos <em>.png</em> y <em>.jpg</em> en el directorio <code>www.garron.me/_site</code> y copia su salída en el directorio <code>/tmp/jekyll</code>, luego solo tengo que copiar todas las imágenes optimizadas de vuelta en el directorio de Jekyll</p>

<pre><code>cp -r /tmp/jekyll/* ~/www.garron.me/_site/
</code></pre>

<p>Ahora si subo el contenido de <code>_site/</code> a Amazon, el sitio será servido al público con imagenes optmizadas, en todo el proceso se ahorraron 20 megas.</p>

<p>Se que esta no es en realidad una guía, y no pretende serlo, existe suficiente información en el sito de <strong>Grunt</strong>, solo es una introducción para quienes no conocen esta herramienta.</p>

<p>Espero y les sirva.</p>

<hr>
En Categoria: <strong><a href="/es/bitacora/">es|bitacora</a></strong> | <a href="http://www.garron.me/es/bitacora/gruntjs.html">permalink</a>
<hr>
<p>Si te gusto el artículo, por favor compartelo</p>
<p><a class="ss-icon ss-social-circle" href="http://twitter.com/intent/tweet?url=http://www.garron.me/es/bitacora/gruntjs.html&text=Grunt&via=ggarron">twitter</a> | <a class="ss-icon ss-social-circle" href="http://facebook.com/sharer.php?u=http://www.garron.me/es/bitacora/gruntjs.html">facebook</a> | <a class="ss-icon ss-social-circle" href="https://plus.google.com/share?url=http%3A%2F%2Fwww.garron.me/es/bitacora/gruntjs.html">google+</a> | <a class="ss-icon ss-social-circle" href="http://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Fwww.garron.me/es/bitacora/gruntjs.html">linkedin</a> | <a href="mailto:?Subject=Grunt&Body=http://www.garron.me/es/bitacora/gruntjs.html" class="ss-icon ss-social-circle">email</a> | <a href="http://reddit.com/submit?url=http://www.garron.me/es/bitacora/gruntjs.html&title=Grunt" class="ss-icon ss-social-circle">reddit</a></p>
<hr>
<div id="discourse-comments"></div>

<script type="text/javascript">
  var discourseUrl = "http://discusion.detecnologia.org/",
      discourseEmbedUrl = 'http://www.garron.me/es/bitacora/gruntjs.html';

  (function() {
    var d = document.createElement('script'); d.type = 'text/javascript'; d.async = true;
      d.src = discourseUrl + 'javascripts/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(d);
  })();
</script>



<hr>

        </div>
        <div class="col-md-3">
            <!-- Esta es la columna derecha que debe estar vacía por ahora -->
        </div>
    </div>
</div>

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="/bootstrap/js/bootstrap.min.js"></script>
        <script src="/bootstrap/js/magnific-popup.js"></script>
        <script src="/bootstrap/js/custom.js"></script>
        <!-- Analytics -->
        <!-- <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1514170-11']);
  _gaq.push(['_setDomainName', 'www.garron.me']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>    -->
        <!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//piwik.go2linux.com/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', 1]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src='http://d2lx14ao1t3d4g.cloudfront.net/piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="//piwik.go2linux.com/piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript>
<!-- End Piwik Code -->



        <!-- end analytics -->
    </body>
</html>
